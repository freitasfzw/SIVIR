<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIVIR</title>
  <link rel="shortcut icon" href="favicon2.png" type="image/x-icon">

  <!-- ====== LEAFLET CSS ====== -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- MarkerCluster CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />

  <!-- CSS do projeto -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

  <noscript>
    <div
      style="position:fixed;top:0;left:0;right:0;background:#ffdddd;color:#700;padding:8px;text-align:center;z-index:9999;">
      Este app requer JavaScript para funcionar corretamente.
    </div>
  </noscript>

  <!-- ============================
       SIDEBAR
  ============================= -->
  <div id="sidebar" aria-hidden="true">

    <!-- HEADER -->
    <div id="sidebar-header">
      <div style="display:flex; align-items:center; gap:10px;">
        <img src="favicon2.png" alt="Logo SIVIR" style="width:32px; height:28px; border-radius:6px;">
        <h1>SIVIR</h1>
      </div>
      <span class="subtitle">Painel de Monitoramento</span>
      <button id="closeSidebar" type="button" aria-label="Fechar painel">√ó</button>
    </div>

    <!-- MENU -->
    <div class="menu-item" id="menuAddOM">
      <span class="icon">üñ•Ô∏è</span>
      <div>
        <div class="menu-title">Adicionar Quartel</div>
        <div class="menu-subtitle">Gerenciar hosts monitorados</div>
      </div>
    </div>

    <div class="menu-item" id="menuAddEnlace">
      <span class="icon">üåê</span>
      <div>
        <div class="menu-title">Adicionar Enlaces</div>
        <div class="menu-subtitle">Cadastrar novos enlaces</div>
      </div>
    </div>

    <div class="menu-item" id="menuMonitoramento">
      <span class="icon">üìä</span>
      <div>
        <div class="menu-title">Monitoramento</div>
        <div class="menu-subtitle">Status da Rede ‚Ä¢ Tempo Real</div>
      </div>
    </div>

    <div class="menu-item" id="menuFiltros">
      <span class="icon">üó∫Ô∏è</span>
      <div>
        <div class="menu-title">Filtros</div>
        <div class="menu-subtitle">Camadas e visualiza√ß√£o</div>
      </div>
    </div>

    <!-- ============================
         CONTE√öDO DIN√ÇMICO
    ============================= -->
<div id="sidebar-content">

  <!-- TELA ADICIONAR OM -->
  <div id="telaAddOM" class="content-section">
    <h2>Adicionar Quartel</h2>
    <p>Informe os dados para adicionar uma OM:</p>

    <div class="form-group">
      <label for="hostname">Hostname *</label>
      <input type="text" id="hostname" placeholder="Ex: DA_DCT">
    </div>

    <div class="form-group">
      <label for="nome">Nome *</label>
      <input type="text" id="nome" placeholder="Ex: DA-DCT">
    </div>

    <div class="form-group">
      <label for="ip">Endere√ßo IP *</label>
      <input type="text" id="ip" placeholder="Ex: 10.26.22.33">
    </div>

    <div class="form-group">
      <label for="hostgroup">Hostgroup *</label>
      <select id="hostgroup">
        <option value="santa_maria">Santa Maria</option>
        <option value="uruguaiana">Uruguaiana</option>
        <option value="bag√©">Bag√©</option>
        <option value="cruz_alta">Cruz Alta</option>
        <option value="santo_angelo">Santo √Çngelo</option>
        <option value="porto_alegre">Porto Alegre</option>
        <option value="pelotas">Pelotas</option>
        <option value="caxias_do_sul">Caxias do Sul</option>
      </select>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="latitude">Latitude *</label>
        <input type="text" id="latitude">
      </div>

      <div class="form-group">
        <label for="longitude">Longitude *</label>
        <input type="text" id="longitude">
      </div>
    </div>

    <button id="btnMapPick" type="button">üìç Selecionar no mapa</button>
    <p id="pickHint" style="display:none;font-size:12px;color:#8bb;margin-top:6px;">
      Clique no mapa para escolher a posi√ß√£o...
    </p>

    <div class="form-group">
      <label for="foto">Foto (opcional)</label>
      <input type="text" id="foto" placeholder="/assets/fotos/DCT.png">
    </div>

    <button id="submitAddOM" class="footer-btn" style="background:var(--accent-2);color:#000;">
      ‚ûï Adicionar OM
    </button>
  </div>

      <!-- ======================
           TELA: ADICIONAR ENLACE
      ======================= -->
      <div id="telaAddEnlace" class="content-section">

        <h2>Adicionar Enlace</h2>
        <p>Cadastrar link entre duas OMs monitoradas</p>

        <div class="form-row">
          <div class="form-group">
            <label>Hostname A *</label>
            <input type="text" id="enlaceHostA" placeholder="Ex: DA_DCT">
          </div>

          <div class="form-group">
            <label>Hostname B *</label>
            <input type="text" id="enlaceHostB" placeholder="Ex: 29GAC">
          </div>
        </div>

        <div class="form-group">
          <label>Tipo *</label>
          <select id="enlaceTipo">
            <option value="RADIO">R√°dio</option>
            <option value="FIBRA">Fibra</option>
            <option value="AVATO">Avato</option>
          </select>
        </div>

        <div class="form-group">
          <label>IP Remoto</label>
          <input type="text" id="enlaceIP" placeholder="Ex: 10.26.90.1">
        </div>

        <br>
        <button class="footer-btn" id="submitAddEnlace" style="background:var(--accent-2);color:#000;">
          ‚ûï Adicionar Enlace
        </button>

      </div>

      <!-- ======================
           TELA: MONITORAMENTO
      ======================= -->
      <div id="telaMonitoramento" class="content-section">

        <h2>Status em Tempo Real</h2>

        <div id="monitorStats">
          <p>OMs UP: <span id="statUp">--</span></p>
          <p>OMs DOWN: <span id="statDown">--</span></p>
          <p>√öltima atualiza√ß√£o: <span id="statCheck">--</span></p>
        </div>

      </div>

      <!-- ======================
           TELA: FILTROS
      ======================= -->
      <div id="telaFiltros" class="content-section">

        <h2>Filtros de Mapa</h2>

        <label><input type="checkbox" id="filtroOMs" checked> Mostrar OMs</label>
        <label><input type="checkbox" id="filtroEnlaces" checked> Mostrar Enlaces</label>
        <label><input type="checkbox" id="filtroCluster" checked> Usar Clusters</label>

      </div>

    </div>

    <!-- FOOTER -->
    <div id="sidebar-footer">
      <button class="footer-btn" onclick="window.location.href='/admin'">üõ°Ô∏è Painel de Administrador</button>
      <button class="footer-btn logout" onclick="window.location.href='/logout'">üö™ Sair</button>
    </div>

  </div>

  <!-- Bot√£o para abrir sidebar -->
  <button id="toggleSidebar" type="button" aria-label="Abrir painel" title="Configura√ß√µes">‚ò∞</button>

  <!-- Loading -->
  <div id="loadingOMs"
    style="display:none;opacity:0;position:fixed;top:20px;right:20px;background:#0099ff;color:#fff;padding:8px 12px;border-radius:8px;z-index:4000;">
    Carregando OMs...
  </div>

  <!-- Mapa -->
  <div id="map"></div>

  <!-- ====== SCRIPTS ====== -->

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

  <script src="js/map.js" defer></script>
  <script src="js/sizebar.js" defer></script>

  <script src="https://unpkg.com/lucide@latest"></script>
  <script> if (window.lucide) lucide.createIcons(); </script>

</body>

</html>